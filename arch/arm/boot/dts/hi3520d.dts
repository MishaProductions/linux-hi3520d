/dts-v1/;
#include "skeleton.dtsi"
#include <dt-bindings/interrupt-controller/arm-gic.h>

/ {
    model = "Hi3520d DVR";
    compatible = "hisi,hi3520d";
    interrupt-parent = <&gic>;

    aliases {
	
	};

    memory {
        device_type = "memory";
        reg = <0x80000000 0x10000000>;
    };
    
    cpus {
        #address-cells = <1>;
		#size-cells = <0>;
        cpu@0 {
            compatible = "arm,cortex-a9";
            device_type = "cpu";
			reg = <0>;
        };
    };

    pclk: pclk@0 {
		#clock-cells = <0>;
		compatible = "hisi,hi3520d-clock";
		clock-frequency = <300000000>;
	};

    uartclk: uartclk {
		#clock-cells = <0>;
		compatible = "fixed-clock";
		clock-frequency = <75000000>;
	};



    soc: soc {
        #address-cells = <1>;
		#size-cells = <1>;
        compatible = "simple-bus";

        /* child and parent address space 1:1 mapped */
        ranges;




        /*l2-cache-controller@20210000 {
	    	compatible = "arm,pl310-cache";
	    	reg = <0x20210000 0x1000>;
	    	cache-unified;
	    	cache-level = <2>;
	    };

        console: serial@10030000 {
            compatible = "arm,pl011", "arm,primecell";
            reg = <0x10030000 0x1000>;
            interrupt-parent = <&gic>;
            interrupts = < GIC_SPI 32 >;
        };*/

        amba {
			#address-cells = <1>;
			#size-cells = <1>;
			compatible = "arm,amba-bus";
			ranges;

                gic: interrupt-controller@20301000 {
                compatible = "arm,cortex-a9-gic";
                interrupt-controller;
                #interrupt-cells = <3>;
                #address-cells = <0>;
                arm,routable-irqs = <64>;
                /*  gic dist base, gic cpu base*/
                reg = <0x20301000 0xF00>, <0x20300100 0xF00>; //cpu
            };

            uart0: serial@20080000 {
                compatible = "arm,pl011", "arm,primecell";
                reg = <0x20080000 0x1000>;
                clocks = <&uartclk>;
                clock-names = "apb_pclk";
                interrupts = <0 40 4>;
            };

            uart1: serial@20090000 {
                compatible = "arm,pl011", "arm,primecell";
                reg = <0x20090000 0x1000>;
                clocks = <&uartclk>; 
                clock-names = "apb_pclk";
                interrupts = <0 41 4>;
            };
        };
    };
   
};